/*! jQuery Simple Tags - v0.1.0 - 2018-02-16
* https://github.com/derapU/jquery-simple-tags
* Copyright (c) 2018 Andreas Berghaus; Licensed MIT */

!function(a){"use strict";var b;a.fn.simple_tags=function(c){return this.each(function(){if(void 0!==this.simple_tags&&this.simple_tags._revert(),void 0===this.simple_tags)return this.simple_tags=new b(a(this),c)})},b=function(a,b){return this._init(a,b),this},b.prototype={_default_opts:{min_length:3,delimiter:",",border_spacing:null,input_min_width:30,events:{change:function(a){return a}},typeahead:null},_opts:null,_tags:[],_$original_input:null,_$input:null,_$container:null,_$list:null,_init:function(b,c){var d=this;this._opts=a.extend(!0,{},this._default_opts,c),this._$original_input=b,this._createContainer(),this._createList(),this._createInput(),this._$input.before(this._$container),this._$container.append(this._$list),null!==this._opts.typeahead&&this._$input.typeahead({complete:this._opts.typeahead,events:{select:function(a){d._addTag(a),d._$input.val("")}}}),this._bindEvents(),this._tags=this._readTags(),this.updateView()},_createInput:function(){this._$input=this._$original_input.clone().attr("id","").attr("name",""),this._$original_input.after(this._$input.val("")),this._$original_input.css({position:"absolute",zIndex:-1,width:0})},_createContainer:function(){this._$container=a('<div class="simple-tags-container">'),this._$container.clonecss(this._$original_input,["font-family","font-size","font-style","font-weight","margin-top","margin-left","margin-right","text-transform","text-decoration","width"]).css({marginBottom:this._opts.border_spacing,minHeight:this._$original_input.outerHeight(),lineHeight:"1em"})},_createList:function(){null===this._opts.border_spacing&&(this._opts.border_spacing=parseInt(this._$original_input.css("padding-top"),10)),this._$list=a('<div class="simple-tags-list">'),this._$list.css("padding-bottom",.5*this._opts.border_spacing+"px")},updateView:function(){var b=this,c=a('<span class="simple-tags-tag">');this._tags=this._readTags(),c.css({marginTop:this._opts.border_spacing+"px"}),this._$list.find(":not(input).simple-tags-tag").remove(),a.each(this._tags,function(){b._$list.append(c.clone().html(this))})},_addTag:function(a){return""!==(a=this._trim(a))&&(!(this._opts.min_length>a.length)&&(!0===this._tag_exists(a)&&this._remove_tag(a),this._tags.push(a),this._writeTags(),void this.updateView()))},_remove_tag:function(b){var c=a.inArray(b,this._tags);-1<c&&(this._tags.splice(c,1),this._writeTags()),this.updateView()},_tag_exists:function(b){return!0==-1<a.inArray(b,this._tags)},_readTags:function(){var b=this;return a.map(this._$original_input.val().split(this._opts.delimiter),function(a){return b._trim(a)||null})},_writeTags:function(){this._$original_input.val(this._tags.join(this._opts.delimiter)),this._opts.events.change.apply(this,[this._tags])},_trim:function(a){return a.replace(/^\s*|\s*$/g,"")},_revert:function(){this._$container.replaceWith(this._$original_input),this._$original_input.get(0).simple_tags=void 0,this._$input.remove(),this._$original_input.css({position:"",zIndex:"",width:""})},_bindEvents:function(){var b=this;this._$list.on("click","> .simple-tags-tag",function(c){c.preventDefault(),b._remove_tag(a(this).text())}),this._$input.on("keyup",function(a){13!==a.keyCode&&b._opts.delimiter!==b._$input.val().substr(-1)||(a.preventDefault(),!1!==b._addTag(b._$input.val().replace(/,$/i,"",b._$input.val()))&&b._$input.val(""))}),this._$container.on("click",function(a){a.preventDefault(),b._$input.trigger("focus")})}},a.fn.clonecss=function(b,c){return a.each(this,function(){var d=a(this);return a.each(c,function(){return d.css(this,b.css(this))})})}}(jQuery);
//# sourceMappingURL=jquery-simple-tags.min.js.map